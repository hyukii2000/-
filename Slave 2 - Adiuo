1. 필요한 라이브러리 설치
//라즈베리파이에서 블루투스 기능을 이용하기 위해서는 pybluez 라이브러리를 설치해야 합니다. 터미널에서 다음 명령어를 입력하여 설치합니다.

sudo apt-get update
sudo apt-get install python3-pip libbluetooth-dev
sudo pip3 install pybluez

2. 블루투스 스피커 검색
//블루투스 스피커를 검색하여 MAC 주소를 확인해야 합니다. 다음 코드를 이용하여 검색합니다.

python
from bluetooth import *

nearby_devices = discover_devices()
for bdaddr in nearby_devices:
    print(BluetoothSocket(RFCOMM).lookup_name(bdaddr), bdaddr)

//위 코드를 실행하면 블루투스 스피커의 이름과 MAC 주소를 확인할 수 있습니다.

3. 블루투스 스피커 연결
다음 코드를 이용하여 블루투스 스피커와 연결합니다. MAC 주소는 앞서 확인한 것을 입력합니다.

python
from bluetooth import *

bd_addr = "00:00:00:00:00:00" # 블루투스 스피커의 MAC 주소 입력
port = 1

sock = BluetoothSocket(RFCOMM)
sock.connect((bd_addr, port))


//위 코드를 실행하면 블루투스 스피커와 연결됩니다. 연결이 성공적으로 이루어지면 다음 코드를 이용하여 스피커로 음악을 전송할 수 있습니다.

python
from bluetooth import *

bd_addr = "00:00:00:00:00:00" # 블루투스 스피커의 MAC 주소 입력
port = 1

sock = BluetoothSocket(RFCOMM)
sock.connect((bd_addr, port))

# 여기에 음악 재생 코드를 입력합니다.

sock.close()


위 코드를 실행하면 음악이 블루투스 스피커로 전송되며, 재생이 시작됩니다. 전송이 완료되면 `sock.close()`를 이용하여 연결을 종료합니다.
