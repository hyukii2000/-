# 이미지 전송을 위한 ImageSender 객체를 생성합니다.
sender = imagezmq.ImageSender(connect_to="tcp://<VLC 플레이어 IP 주소>:5555")

# VLC 플레이어로부터 이미지 수신을 처리할 수신자 객체를 생성합니다.
receiver = imagezmq.ImageHub()

# 비디오 스트리밍 루프를 시작합니다.
while True:
    # 현재 프레임을 가져옵니다.
    frame = vs.read()

    # 현재 프레임을 복사하여 표시합니다.
    frame_display = frame.copy()
    cv2.imshow("Video Stream", frame_display)
    cv2.waitKey(1)

    # 프레임을 전송합니다.
    sender.send_image(socket.gethostname(), frame)

    # VLC 플레이어로부터 이미지 수신을 대기합니다.
    (client_name, frame) = receiver.recv_image()

    # 수신된 프레임을 디스플레이합니다.
    cv2.imshow("Received Frame", frame)
    cv2.waitKey(1)
